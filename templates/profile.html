{% extends "base.html" %}

{% block content %}
<body>
    <!-- Profile Section -->
    <div class="container my-5">
        <h1 class="text-center">User Profile</h1>
        <div class="row justify-content-center">
            <!-- Avatar Selection -->
            <div class="col-md-6 text-center">
                <h3>Select Your Avatar</h3>
                <form method="POST" action="{{ url_for('profile') }}">
                    <div class="avatar-selection d-flex flex-wrap justify-content-center">
                        {% for avatar in avatars %}
                            <label>
                                <input type="radio" name="avatar" value="{{ avatar }}"
                                       {% if avatar == selected_avatar %}checked{% endif %} hidden>
                                <img src="{{ url_for('static', filename='img/avatars/' + avatar) }}"
                                     alt="Avatar" class="avatar-img m-2"
                                     style="width: 100px; height: 100px; cursor: pointer;">
                            </label>
                        {% endfor %}
                    </div>
                    <button type="submit" class="btn btn-primary mt-3">Save Avatar</button>
                </form>
                {% if selected_avatar %}
                    <p class="mt-3">Selected Avatar:</p>
                    <img src="{{ url_for('static', filename='img/avatars/' + selected_avatar) }}"
                         alt="Selected Avatar" style="width: 120px; height: 120px;">
                {% endif %}
            </div>
        </div>
        
        <!-- Progress Section -->
        <div class="row mt-5">
            <div class="col-md-6 offset-md-3 text-center">
                <h3>State Progress</h3>
                <p>States Visited: <strong>{{ visited_states }}</strong> / {{ total_states }}</p>
                <p>States Remaining: <strong>{{ remaining_states }}</strong></p>
                <div class="progress" style="height: 30px;">
                    <div class="progress-bar bg-success" role="progressbar"
                         style="width: {{ (visited_states / total_states) * 100 }}%;"
                         aria-valuenow="{{ visited_states }}"
                         aria-valuemin="0" aria-valuemax="{{ total_states }}">
                        {{ (visited_states / total_states) * 100 }}%
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
{% endblock %}