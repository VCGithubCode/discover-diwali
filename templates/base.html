<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Discover the magic of Diwali - India's festival of lights. Learn about traditions, take interactive quizzes, explore celebration locations, and join our community celebrating this beautiful cultural festival.">
        <meta name="keywords" content="Diwali, Festival of Lights, Indian Festival, Diwali Celebrations, Diwali Quiz, Diwali Traditions">
        <meta name="author" content="Discover Diwali">
        <meta name="robots" content="index, follow">
        <meta property="og:title" content="Discover Diwali - Festival of Lights">
        <meta property="og:description" content="Explore the vibrant celebration of Diwali, take quizzes, and learn about this beautiful festival of lights.">
        <meta property="og:type" content="website">
        <link rel="icon" type="image/x-icon" href="/static/favicon/favicon.ico" />
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
        <link rel="stylesheet" href="/static/css/responsive.css">
        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" href="/static/favicon/favicon.ico" />
        <!-- CSS Styling -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
        <link rel="stylesheet" href="/static/css/responsive.css">
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"
        type="text/css" />
        <link
            href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
            rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <!-- Dyslexic fonts-->
        <link href="https://fonts.cdnfonts.com/css/open-dyslexic" rel="stylesheet">
        <link
            href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
            rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <!-- Bootstrap cdn-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <title>
            {% if request.endpoint == 'index' %}Discover Diwali - Home
            {% elif request.endpoint == 'map' %}Discover Diwali - Map
            {% elif request.endpoint == 'quiz' %}Discover Diwali - Quiz
            {% elif request.endpoint == 'contact' %}Discover Diwali - Contact
            {% elif request.endpoint == 'register' %}Discover Diwali - Register
            {% elif request.endpoint == 'login' %}Discover Diwali - Login
            {% elif request.endpoint == 'leaderboard' %}Discover Diwali - Leaderboard
            {% elif request.endpoint == 'thank_you' %}Discover Diwali - Thank You
            {% else %}Discover Diwali{% endif %}
        </title>
    </head>

    <body>
        <!-- Navigation-->     
        
        <img src="/static/img/light.jpg" alt="Hanging light Image" class="light-image light-image-back">
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="/">Discover Diwali</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
                    aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                            <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4 {% if request.endpoint == 'index' %}active{% endif %}" href="{{ url_for('index') }}">Home</a>
                            </li>
                            <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4 {% if request.endpoint == 'map' %}active{% endif %}" href="{{ url_for('map') }}">Map</a>
                            </li>
                            <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4 {% if request.endpoint == 'quiz' %}active{% endif %}" href="{{ url_for('quiz') }}">Quiz</a>
                            </li>                        
                            <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4 {% if request.endpoint == 'contact' %}active{% endif %}" href="{{ url_for('contact') }}">Contact</a></li>
                        
                        {% if session.user %}
                            <!-- Dropdown for Logged-In User -->
                            <li class="nav-item dropdown d-flex align-items-center ms-5">
                                <!-- Avatar as Dropdown Toggle -->
                                {% if session.avatar %}
                                    <a class="nav-item dropdown-toggle d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <img src="{{ url_for('static', filename='img/avatars/' + session.avatar) }}" alt="User Avatar" class="rounded-circle me-2" style="width: 40px; height: 40px; object-fit: cover;">
                                        <span>{{ session.user }}</span>
                                    </a>
                                {% else %}
                                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        {{ session.user }}
                                    </a>
                                {% endif %}

                                <!-- Dropdown Menu -->
                                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                    <li><a class="dropdown-item {% if request.endpoint == 'profile' %}active{% endif %}" href="{{ url_for('profile') }}">Profile</a></li>
                                    <li><a class="dropdown-item {% if request.endpoint == 'leaderboard' %}active{% endif %}" href="{{ url_for('leaderboard') }}">Leaderboard</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item {% if request.endpoint == 'logout' %}active{% endif %}" href="{{ url_for('logout') }}">Logout</a></li>
                                </ul>
                            </li>
                        {% else %}
                            <!-- Links for Not Logged-In Users -->
                            <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="{{ url_for('login') }}">Login</a></li>
                            <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="{{ url_for('register') }}">Register</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </nav>
        <button class="btn access-btn pe-5" type="button" data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions"><i
                class="fas fa-universal-access"></i> Accessibility</button>

        <!-- Canvas sidebar -->
        <div class="offcanvas offcanvas-end" data-bs-scroll="true" tabindex="5" id="offcanvasWithBothOptions"
            aria-labelledby="offcanvasWithBothOptionsLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Accessibility Settings</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="list-unstyled p-3">
                    <li class="mb-3">
                        <div class="dropdown-item">
                            <label class="form-label">Font Size</label>
                            <div class="d-flex flex-column">
                                <div class="btn-group" role="group" aria-label="Font Size">
                                    <input type="radio" class="btn-check font-size-option" name="fontSize"
                                        id="fontSizeSmall" value="small">
                                    <label class="btn btn-outline-secondary" for="fontSizeSmall">Small</label>

                                    <input type="radio" class="btn-check font-size-option" name="fontSize"
                                        id="fontSizeMedium" value="medium" checked>
                                    <label class="btn btn-outline-secondary" for="fontSizeMedium">Medium</label>

                                    <input type="radio" class="btn-check font-size-option" name="fontSize"
                                        id="fontSizeLarge" value="large">
                                    <label class="btn btn-outline-secondary" for="fontSizeLarge">Large</label>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="mb-3">
                        <div class="dropdown-item">
                            <div class="form-check form-switch form-switch-lg d-flex align-items-center">
                                <input class="form-check-input font-switch" type="checkbox" id="fontSwitch1"
                                    aria-label="Font switch">
                                <label class="form-check-label ms-2" for="fontSwitch1">Turn on Dyslexic Font</label>
                            </div>
                        </div>
                    </li>
                    <li class="mb-3">
                        <div class="dropdown-item">
                            <div class="form-check form-switch form-switch-lg d-flex align-items-center">
                                <input class="form-check-input theme-switch" type="checkbox" id="themeSwitch1"
                                    aria-label="Theme switch">
                                <label class="form-check-label ms-2" for="themeSwitch1">Turn on High Contrast</label>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Back to top button -->
        <a href="#" class="btn btn-primary btn-lg back-to-top position-fixed bottom-0 end-0 m-3 d-none z-3"
            aria-label="Back to Top">
            <i class="fas fa-arrow-up"></i>
        </a>

        <!-- Main Content-->
        <div class="stage" id="star-stage"></div>
        <div class="main-container mt-5">
        <div class="container px-4 px-lg-5 theme-switch main" data-bs-theme="contrast">

            {% block content %}
            {% endblock %}

        </div>
        </div>
        <!-- Footer-->
        <footer>
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="social-tags">
                                        <svg class="back-button" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 512">
                                            <defs>
                                                <filter id="social1" x="0%" y="0%" width="140%" height="140%">
                                                    <feDropShadow dx="6" dy="6" stdDeviation="2" flood-color="black" flood-opacity="0.9" />
                                                </filter>
                                            </defs>
                                            <path filter="url(#social1)" d="M256 0c141.384 0 256 114.616 256 256 0 141.384-114.616 256-256 256C114.616 512 0 397.384 0 256 0 114.616 114.616 0 256 0zm62.64 157.549h33.401l-72.974 83.407 85.85 113.495h-67.222l-52.645-68.837-60.244 68.837h-33.422l78.051-89.212-82.352-107.69h68.924l47.59 62.916 55.043-62.916zm-11.724 176.908h18.509L205.95 176.494h-19.861l120.827 157.963z"/></svg>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="social-tags">
                                        <svg class="back-button" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 509 507.14">
                                            <defs>
                                                <filter id="social2" x="0%" y="0%" width="140%" height="140%">
                                                    <feDropShadow dx="6" dy="6" stdDeviation="2" flood-color="black" flood-opacity="0.9" />
                                                </filter>
                                            </defs>
                                            <path filter="url(#social2)" fill-rule="nonzero" d="M509 254.5C509 113.94 395.06 0 254.5 0S0 113.94 0 254.5C0 373.86 82.17 474 193.02 501.51V332.27h-52.48V254.5h52.48v-33.51c0-86.63 39.2-126.78 124.24-126.78 16.13 0 43.95 3.17 55.33 6.33v70.5c-6.01-.63-16.44-.95-29.4-.95-41.73 0-57.86 15.81-57.86 56.91v27.5h83.13l-14.28 77.77h-68.85v174.87C411.35 491.92 509 384.62 509 254.5z"/></svg>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="social-tags">
                                        <svg class="back-button" xmlns="http://www.w3.org/2000/svg" width="64" height="64" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 640 640">
                                            <defs>
                                                <filter id="social3" x="0%" y="0%" width="140%" height="140%">
                                                    <feDropShadow dx="6" dy="6" stdDeviation="2" flood-color="black" flood-opacity="0.9" />
                                                </filter>
                                            </defs>
                                            <path filter="url(#social3)" d="M319.988 7.973C143.293 7.973 0 151.242 0 327.96c0 141.392 91.678 261.298 218.826 303.63 16.004 2.964 21.886-6.957 21.886-15.414 0-7.63-.319-32.835-.449-59.552-89.032 19.359-107.8-37.772-107.8-37.772-14.552-36.993-35.529-46.831-35.529-46.831-29.032-19.879 2.209-19.442 2.209-19.442 32.126 2.245 49.04 32.954 49.04 32.954 28.56 48.922 74.883 34.76 93.131 26.598 2.882-20.681 11.15-34.807 20.315-42.803-71.08-8.067-145.797-35.516-145.797-158.14 0-34.926 12.52-63.485 32.965-85.88-3.33-8.078-14.291-40.606 3.083-84.674 0 0 26.87-8.61 88.029 32.8 25.512-7.075 52.878-10.642 80.056-10.76 27.2.118 54.614 3.673 80.162 10.76 61.076-41.386 87.922-32.8 87.922-32.8 17.398 44.08 6.485 76.631 3.154 84.675 20.516 22.394 32.93 50.953 32.93 85.879 0 122.907-74.883 149.93-146.117 157.856 11.481 9.921 21.733 29.398 21.733 59.233 0 42.792-.366 77.28-.366 87.804 0 8.516 5.764 18.473 21.992 15.354 127.076-42.354 218.637-162.274 218.637-303.582 0-176.695-143.269-319.988-320-319.988l-.023.107z"/></svg>
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <div class="small text-center fst-italic footer-text">Copyright &copy; Diwali Discovery 2024</div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
        <!-- Core theme JS-->
        <script src="{{ url_for('static', filename='js/scripts.js') }}" defer></script>
        <!-- Theme JS-->
        <script src="{{ url_for('static', filename='js/theme-switcher.js') }}" defer></script>
        <!-- Countdown JS-->
        <script src="{{ url_for('static', filename='js/countdown.js') }}" defer></script>
        <!-- Fireworks-JS-->
        <script src="https://cdn.jsdelivr.net/npm/fireworks-js@2.x/dist/index.umd.js"></script>
        <!-- Fireworks Core JS-->
         <script src="{{ url_for('static', filename='js/fireworks.js') }}" defer></script>
        <!-- Map JS-->
        <script src="{{ url_for('static', filename='js/map.js') }}" defer></script>
        <!-- Hammer JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js" defer></script>
        <!-- Zoom JS-->
        <script src="{{ url_for('static', filename='js/zoom.js') }}" defer></script>
        <!-- Quiz JS-->
        <script src="{{ url_for('static', filename='js/quiz.js') }}" defer></script>
        <!-- Stars JS-->
        <script src="{{ url_for('static', filename='js/stars.js') }}" defer></script>
        <!-- Accessibility JS -->
        <script src="{{ url_for('static', filename='js/access.js') }}" defer></script>
    </body>
</html>